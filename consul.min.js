(function(e,r){if(typeof define==="function"&&define.amd){define(["exports"],r)}else if(typeof exports==="object"){r(exports);if(typeof module==="object"&&module!==null){module.exports=exports=exports.resilientConsul}}else{r(e)}})(this,function(e){var r="/v1/catalog/service/";var t=["service","servers"];var n=["service","datacenter","protocol"];e.resilientConsul=function(e){var i="discovery";e=e||{};t.forEach(function(r){if(!e[r]){throw new TypeError("Missing required param: "+r)}});e.basePath=r+e.service;if(e.discoveryService){e.refreshPath=r+e.discoveryService;e.enableSelfRefresh=true}function o(r,t){c(r);function n(e,r,t){if(e)return t();if(Array.isArray(r.data)){r.data=s(r.data)}t()}function i(r,t){r.params=r.params||{};if(e.datacenter){r.params.dc=e.datacenter}t()}return{"in":n,out:i}}o.type=i;return o;function s(r){var t=e.protocol||"http";return r.filter(function(e){return e&&e.Address}).map(function(e){if(e.ServiceAddress){return e.ServiceAddress}return t+"://"+e.Address+":"+(+e.ServicePort||80)})}function c(r){Object.keys(e).filter(function(e){return!~n.indexOf(e)}).forEach(function(t){r.set(t,e[t])})}}});
//# sourceMappingURL=http://cdn.rawgit.com/h2non/consul/0.1.0/consul.min.js.map